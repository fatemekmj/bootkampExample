(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9802],{37270:function(e,s,n){"use strict";n.d(s,{y:function(){return R}});var r=n(52322),t=n(2784),a=n(98780),l=n(53828),o=n(80803),i=n(87049),d=n(40010),c=n(31838),u=n(80932),m={address:(0,c.Yh)(function(e){return e[u.e.FRESH]},function(e){return(null==e?void 0:e.address)||{}})},x=n(80786),p=n(41435),h=n(72677),v=n(66383),f=n(57931),b=n(73739),_=n(98723),g=n(90877),j=n(50603),N=n(71547),C=n(18212),y=n(66781),w=n(82650),z=n(72873),S=n(57394),k=n(6013),W=n(29890),H=n(53548),I=n(1324),Z=n(13781),B=(0,I.q)({url:"/address/all/",isFresh:!0,transformer:function(e){var s,n,r=e.data;return{addresses:(null==r?void 0:null===(s=r.addresses)||void 0===s?void 0:null===(n=s.map)||void 0===n?void 0:n.call(s,function(e){return(0,Z.C)({data:e})}))||[]}}}),D=n(58809);function O(e){var s=e.className,n=e.checked,t=e.onChange,a=e.address,l=!a.addressInCoverage;return(0,r.jsxs)("label",{className:(0,h.d)(s,"flex items-center p-3 rounded-md border-2 border-solid",{"bg-neutral-100":!l,"border-primary-700":n,"border-white":!n}),children:[(0,r.jsx)(D.Y,{onChange:t,activeColor:"primary",checked:n,className:"ml-3",disabled:l}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:(0,h.d)("text-body-2",{"text-neutral-400":l,"text-neutral-500":!l}),children:a.addressAddress}),l&&(0,r.jsx)("div",{className:"text-body-2 text-hint-text-caution mt-1",children:"امکان ارسال سوپرمارکتی به این آدرس وجود ندارد."})]})]})}function J(e){var s=e.isOpen,n=e.onDismiss,l=(0,i.v)(k.p.isLoggedIn),c=(0,v.Z)((0,t.useState)(-1),2),u=c[0],m=c[1],x=(0,w.z)().emit,p=(0,o.d)(),h=p.isOpen,I=p.onOpen,Z=p.onClose,D=(0,S.J)({action:d.Ab,successCallback:function(){Z(),n()}}),J=D.request,A=D.pending,F=(0,z.V)({apiMethod:B,disabled:!(l&&s),onSuccess:function(e){if((0,W.k)(e.addresses)){var s=e.addresses.findIndex(function(e){return e.addressIsDefault});s>=0&&m(s)}}}).data.addresses,R=void 0===F?[]:F,M=(0,S.J)({action:d.$A,successCallback:function(){n()}}),P=M.request,E=M.pending,q=R.length>0;return(0,r.jsxs)(j.Modal,{zIndex:4,headerHideBottomBorder:q,headerTitle:(0,r.jsxs)("div",{className:"flex items-center",children:[!q&&(0,r.jsx)(a.J,{icon:"pin"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"mr-1",children:"یک آدرس انتخاب کنید"}),q&&(0,r.jsx)("p",{className:"text-body-2 text-neutral-400",children:"موقعیت مکانی یا آدرس را مشخص کنید"})]})]}),isOpen:s,footer:l&&R.length>0?(0,r.jsx)(f.z,{className:"w-full",loading:E,onClick:function(){P({addressId:R[u].addressId})},children:"تایید"}):null,onDismiss:n,children:[!q&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-body-1 text-neutral-700 mb-1",children:"برای مشاهده کالاهای سوپرمارکتی، به آدرس یا موقعیت مکانی شما نیاز داریم."}),(0,r.jsxs)("div",{className:"flex items-center text-neutral-700 mb-4",children:[(0,r.jsx)(g.g,{size:"medium",className:"ml-2"}),(0,r.jsx)("span",{className:"text-body1-strong",children:"امکان ارسال فقط در شهرهای تهران و کرج"})]})]}),R[u]&&!R[u].addressInCoverage&&(0,r.jsx)(b.k,{color:"yellow",className:"mb-2",children:"امکان ارسال کالاهای سوپرمارکتی به آدرس انتخابی شما وجود ندارد! فعلاً فقط در شهرهای تهران و کرج امکان ارسال داریم.می‌توانید آدرس انتخابی‌تان را تغییر دهید."}),l&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"rounded-md border-complete-200 flex items-center px-5 py-3 mb-4",onClick:function(){n(),x(y.Qw,{mode:C.y.ADD,values:{addressId:void 0,latitude:void 0,longitude:void 0}})},children:[(0,r.jsx)(a.J,{icon:"addSimple",className:"ml-1"}),(0,r.jsx)("span",{className:"text-h5",children:"افزودن آدرس جدید"}),(0,r.jsx)(a.J,{icon:"chevronLeft",className:"mr-auto"})]}),(0,r.jsxs)("div",{className:"rounded-md border-complete-200 flex items-center px-5 py-3 mb-4",onClick:I,children:[(0,r.jsx)(a.J,{icon:"pin",className:"ml-1"}),(0,r.jsx)("span",{className:"text-h5",children:"انتخاب از روی نقشه"}),(0,r.jsx)(a.J,{icon:"chevronLeft",className:"mr-auto"})]}),R.map(function(e,s){return(0,r.jsx)(O,{address:e,className:"mb-3",checked:s===u,onChange:function(){return m(s)}},e.addressId)})]}),!l&&(0,r.jsxs)("div",{children:[(0,r.jsx)(f.z,{className:"w-full mb-2",onClick:I,children:"انتخاب موقعیت مکانی از روی نقشه"}),(0,r.jsxs)("div",{className:"w-full flex items-baseline justify-center",children:[(0,r.jsx)("span",{className:"text-neutral-500 text-body-1",children:"آدرس دارید؟"}),"\xa0",(0,r.jsx)(_.r,{to:(0,H.U)({toLoginRegisterRoute:!0}),children:(0,r.jsx)("span",{className:"text-secondary-500 text-button-1",children:"وارد شوید"})})]})]}),(0,r.jsx)(N.Z,{renderFooter:function(e){var s=e.onClick,n=e.disabled;return(0,r.jsxs)(f.z,{disabled:n,wide:!0,className:"w-full",loading:A,onClick:s,children:["ثبت موقعیت",(0,r.jsx)(a.J,{color:"white",className:"mr-2",icon:"chevronLeft"})]})},onSubmit:function(e){J({lat:e.lat,lng:e.lng})},isOpen:h,onClose:Z})]})}var A=n(27623),F=n.n(A);function R(e){var s=e.className,n=(0,o.d)(),c=n.isOpen,u=n.onOpen,v=n.onClose,f=(0,i.v)(m.address),b=!(0,p.x)(f.addressAddress),_=(0,l.I)(),g=b?f.addressInCoverage?F()["container--in-coverage"]:F()["container--out-of-coverage"]:(0,h.d)("text-primary-700",F()["container--no-address"]),j=b?f.addressInCoverage?"high-emphasis":"warning":"success",N=(0,i.v)(x.b.isPendingInit);return(0,t.useEffect)(function(){!N&&(0,p.x)(f.freshWarehouseId)&&u()},[f.freshWarehouseId,N]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{onClick:u,className:(0,h.d)("rounded-large flex items-center justify-between p-1 cursor-pointer",s,g),children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(a.J,{icon:"pin",color:j,className:"ml-2 mr-1",size:20}),b?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"text-body1-strong ml-1 whitespace-nowrap",children:"انتخاب آدرس"}),(0,r.jsx)("div",{className:"text-body-2 ml-1 ellipsis-1",children:f.addressAddress})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"text-body1-strong ml-1 whitespace-nowrap",children:"انتخاب آدرس"}),(0,r.jsx)("div",{className:"text-body-2 ml-1 ellipsis-1",children:"(ارسال به تهران و کرج)"})]})]}),(0,r.jsx)(a.J,{icon:"chevronDown",className:"p-1",size:19})]}),(0,r.jsx)(J,{isOpen:c,onDismiss:function(){v(),(0,p.x)(f.freshWarehouseId)&&_((0,d.C3)())}})]})}},84817:function(e,s,n){"use strict";n.d(s,{a:function(){return i}});var r=n(52322),t=n(31909),a=n(98723),l=n(96363),o=n(26442);function i(){return(0,r.jsxs)("div",{className:"flex items-center w-full mb-3",children:[(0,r.jsx)(l.D.BackButton,{color:"primary-700"}),(0,r.jsx)(l.D.Title,{className:"mr-3 text-primary-700",children:"سوپرمارکت دیجی‌کالا"}),(0,r.jsx)(a.r,{to:(0,o.ws)(!1),className:"mr-auto border-complete-r-200 pr-3",children:(0,r.jsx)(t.E,{src:"/statics/img/svg/fresh/dk.svg",alt:"نتیجه‌ای یافت نشد"})})]})}},90877:function(e,s,n){"use strict";n.d(s,{g:function(){return r.gx}});var r=n(44525)},58809:function(e,s,n){"use strict";n.d(s,{Y:function(){return i}});var r=n(70865),t=n(52322),a=n(2784),l=n(16194),o=(0,a.forwardRef)(function(e,s){var n=e.id,r=e.name,a=e.label,o=e.value,i=e.description,d=e.checked,c=e.className,u=e.onChange,m=e.labelClassName,x=e.activeColor,p=e.disabled;return(0,t.jsxs)("label",{className:(0,l.dh)({"flex items-start py-3":!c,"opacity-50":p},c),children:[(0,t.jsx)("input",{ref:s,id:n,type:"radio",name:r,value:o,checked:d,className:"hidden",disabled:p,onChange:u}),(0,t.jsx)("span",{className:"w-6 h-6 shrink-0",children:d?(0,t.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2Z",fill:"var(--color-".concat(void 0===x?"secondary":x,"-500)")}),(0,t.jsx)("path",{d:"M12 7C9.2 7 7 9.2 7 12C7 14.8 9.2 17 12 17C14.8 17 17 14.8 17 12C17 9.2 14.8 7 12 7Z",fill:"white"})]}):(0,t.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 6.5 6.5 2 12 2C17.5 2 22 6.5 22 12C22 17.5 17.5 22 12 22C6.5 22 2 17.5 2 12ZM4 12C4 16.4 7.6 20 12 20C16.4 20 20 16.4 20 12C20 7.6 16.4 4 12 4C7.6 4 4 7.6 4 12Z",fill:p?"#A1A3A8":"#424750"})})}),(a||i)&&(0,t.jsxs)("div",{className:"mr-4 grow",children:[(0,t.jsx)("p",{className:(0,l.dh)("text-body-1",m),children:a}),(0,l.HD)(i)?(0,t.jsx)("p",{className:"text-body-2 text-neutral-500",children:i}):i]})]})});function i(e){return(0,t.jsx)(o,(0,r.Z)({},e))}},97411:function(e,s,n){"use strict";n.d(s,{l:function(){return c}});var r=n(47842),t=n(70865),a=n(52322),l=n(44525),o=n(72677),i=n(43803),d=n.n(i);function c(e){var s,n,i=e.items,c=e.hasNavigations,u=e.isNavigationButtonSmall,m=e.hasNavigationButtonsShadow,x=e.sliderProps,p=e.className,h=e.isCustomCarousel,v=e.style,f=e.disableNavigationOnDesktop,b=e.spaceBetween,_=e.navigationButtonSize,g=(0,t.Z)({hasNavigation:void 0===c||c,disableNavigationOnDesktop:void 0!==f&&f,navigationButtonClassName:{prev:(0,o.d)("hidden lg:flex justify-center items-center bg-neutral-000 absolute cursor-pointer z-5 rounded-circle",d().ScrollHorizontalWrapper__button,d()["ScrollHorizontalWrapper__button--prev"],(s={},(0,r.Z)(s,d()["ScrollHorizontalWrapper__button--small"],u),(0,r.Z)(s,"shadow-fab-button",m),(0,r.Z)(s,d()["ScrollHorizontalWrapper__button--customCarouselPrev"],h),s)),next:(0,o.d)("hidden lg:flex justify-center items-center bg-neutral-000 absolute cursor-pointer z-5 rounded-circle",d().ScrollHorizontalWrapper__button,d()["ScrollHorizontalWrapper__button--next"],(n={},(0,r.Z)(n,d()["ScrollHorizontalWrapper__button--small"],u),(0,r.Z)(n,"shadow-fab-button",m),(0,r.Z)(n,d()["ScrollHorizontalWrapper__button--customCarouselNext"],h),n)),disabled:"lg:hidden"},spaceBetween:void 0===b?24:b,hasThumbnail:!1},void 0===x?{}:x);return(0,a.jsx)(l.lI,{items:i,navigationButtonSize:_,sliderProps:g,className:p,style:void 0===v?{}:v})}s.Z=c},27623:function(e){e.exports={"container--no-address":"styles_container--no-address__Dqq3W","container--in-coverage":"styles_container--in-coverage__mIEx0","container--out-of-coverage":"styles_container--out-of-coverage__CPkWw"}},43803:function(e){e.exports={ScrollHorizontalWrapper__button:"styles_ScrollHorizontalWrapper__button__uMRet","ScrollHorizontalWrapper__button--small":"styles_ScrollHorizontalWrapper__button--small__dQQnH","ScrollHorizontalWrapper__button--prev":"styles_ScrollHorizontalWrapper__button--prev___Vx1r","ScrollHorizontalWrapper__button--customCarouselPrev":"styles_ScrollHorizontalWrapper__button--customCarouselPrev__yODtR","ScrollHorizontalWrapper__button--next":"styles_ScrollHorizontalWrapper__button--next__0VY_Y","ScrollHorizontalWrapper__button--customCarouselNext":"styles_ScrollHorizontalWrapper__button--customCarouselNext__gB3pa"}}}]);